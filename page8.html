<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INHAIR - 의사 스케줄 지원</title>
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="page8.css">
</head>
<body>
    <!-- 상단 -->
    <header>
        <nav>
            <div class="logo">INHAIR</div>
            <div class="user-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M20.59 22C20.59 18.13 16.74 15 12 15C7.26 15 3.41 18.13 3.41 22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
        </nav>
    </header>

    <!-- 목록으로 가기 버튼 -->
    <a href="index.html" class="back-to-list-btn">목록으로 가기</a>

    <!-- 중단 -->
    <main style="padding-bottom: 70px; padding-top: 1rem;">
        <div class="page-title">
            의사 스케줄 지원
        </div>
        <div class="schedule-info">
            의사가 등록한 구인 스케줄을 확인하고 지원하세요.
        </div>
        <div class="calendar-container">
            <div class="calendar">
                <div class="calendar-header">
                    <button class="calendar-nav-btn">‹</button>
                    <h2 class="calendar-month">2024년 1월</h2>
                    <button class="calendar-nav-btn">›</button>
                </div>
                <div class="calendar-weekdays">
                    <div class="weekday">일</div>
                    <div class="weekday">월</div>
                    <div class="weekday">화</div>
                    <div class="weekday">수</div>
                    <div class="weekday">목</div>
                    <div class="weekday">금</div>
                    <div class="weekday">토</div>
                </div>
                <div class="calendar-days">
                    <div class="day other-month">
                        <div class="day-number">31</div>
                    </div>
                    <div class="day">
                        <div class="day-number">1</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">2</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day" data-day="3">
                        <div class="day-number">3</div>
                        <div class="day-schedules">
                            <div class="schedule-item">1~3시 구함</div>
                        </div>
                        <div class="day-actions">
                            <button class="apply-btn" onclick="openApplyModal(3, '1~3시')" title="지원하기">지원</button>
                        </div>
                    </div>
                    <div class="day">
                        <div class="day-number">4</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day" data-day="5">
                        <div class="day-number">5</div>
                        <div class="day-schedules">
                            <div class="schedule-item">2~4시 구함</div>
                        </div>
                        <div class="day-actions">
                            <button class="apply-btn" onclick="openApplyModal(5, '2~4시')" title="지원하기">지원</button>
                        </div>
                    </div>
                    <div class="day">
                        <div class="day-number">6</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">7</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">8</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">9</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">10</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">11</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">12</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">13</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">14</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">15</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">16</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">17</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">18</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">19</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">20</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">21</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">22</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">23</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">24</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">25</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">26</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">27</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">28</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">29</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">30</div>
                        <div class="day-schedules"></div>
                    </div>
                    <div class="day">
                        <div class="day-number">31</div>
                        <div class="day-schedules"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 지원 모달 -->
    <div id="applyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>스케줄 지원</h3>
                <button class="close-btn" onclick="closeApplyModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="apply-info">
                    <div class="info-row">
                        <span class="info-label">날짜:</span>
                        <span class="info-value" id="applyDay"></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">시간:</span>
                        <span class="info-value" id="applyTime"></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">병원:</span>
                        <span class="info-value">인헤어병원</span>
                    </div>
                </div>
                <div class="apply-message">
                    <label>지원 메시지 (선택사항)</label>
                    <textarea id="applyMessage" placeholder="의사에게 전달할 메시지를 입력하세요." rows="4"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" onclick="closeApplyModal()">취소</button>
                <button class="submit-btn" onclick="submitApply()">지원하기</button>
            </div>
        </div>
    </div>

    <!-- 하단 -->
    <footer>
        <div class="footer-nav">
            <button class="footer-btn">내 프로필</button>
            <span class="footer-divider">|</span>
            <button class="footer-btn">스케줄관리</button>
            <span class="footer-divider">|</span>
            <button class="footer-btn">강의자료</button>
        </div>
    </footer>

    <script>
        let currentApplyDay = null;
        let currentApplyTime = null;

        function openApplyModal(day, time) {
            currentApplyDay = day;
            currentApplyTime = time;
            document.getElementById('applyDay').textContent = `${day}일`;
            document.getElementById('applyTime').textContent = time;
            document.getElementById('applyMessage').value = '';
            document.getElementById('applyModal').style.display = 'flex';
        }

        function closeApplyModal() {
            document.getElementById('applyModal').style.display = 'none';
            currentApplyDay = null;
            currentApplyTime = null;
        }

        function submitApply() {
            const message = document.getElementById('applyMessage').value;
            alert(`지원이 완료되었습니다!\n\n날짜: ${currentApplyDay}일\n시간: ${currentApplyTime}\n\n의사가 확인 후 매칭해드립니다.`);
            
            // 지원 버튼을 지원완료로 변경
            const dayElement = document.querySelector(`.day[data-day="${currentApplyDay}"]`);
            if (dayElement) {
                const applyBtn = dayElement.querySelector('.apply-btn');
                if (applyBtn) {
                    applyBtn.textContent = '지원완료';
                    applyBtn.classList.add('applied');
                    applyBtn.onclick = null;
                    applyBtn.style.cursor = 'default';
                }
            }
            
            closeApplyModal();
        }

        // 모달 외부 클릭 시 닫기
        window.onclick = function(event) {
            const modal = document.getElementById('applyModal');
            if (event.target === modal) {
                closeApplyModal();
            }
        }
    </script>
</body>
</html>

