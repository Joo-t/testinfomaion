<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INHAIR - 분리사 평가</title>
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="page3.css">
</head>
<body>
    <!-- 상단 -->
    <header>
        <nav>
            <div class="logo">INHAIR</div>
            <div class="user-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M20.59 22C20.59 18.13 16.74 15 12 15C7.26 15 3.41 18.13 3.41 22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
        </nav>
    </header>

    <!-- 목록으로 가기 버튼 -->
    <a href="index.html" class="back-to-list-btn">목록으로 가기</a>

    <!-- 중단 -->
    <main style="padding-bottom: 70px; padding-top: 1rem;">
        <div class="page-title">
            분리사 평가
        </div>
        <div class="evaluation-list-container">
            <div class="evaluation-item completed">
                <div class="evaluation-date">11일</div>
                <div class="evaluation-info">
                    <div class="evaluation-name">이혜인</div>
                    <div class="evaluation-status completed">평가완료</div>
                </div>
            </div>
            <div class="evaluation-item pending">
                <div class="evaluation-date">12일</div>
                <div class="evaluation-info">
                    <div class="evaluation-name">김성수</div>
                    <button class="evaluation-btn" onclick="openEvaluationModal('김성수', '12일')">평가하기</button>
                </div>
            </div>
        </div>
    </main>

    <!-- 평가 모달 -->
    <div id="evaluationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>분리사 평가</h2>
                <button class="modal-close" onclick="closeEvaluationModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="evaluation-target">
                    <div class="target-name" id="targetName"></div>
                    <div class="target-date" id="targetDate"></div>
                </div>
                <div class="evaluation-form">
                    <div class="rating-section">
                        <label>전체 평가</label>
                        <div class="star-rating">
                            <span class="star" onclick="setRating(1)">★</span>
                            <span class="star" onclick="setRating(2)">★</span>
                            <span class="star" onclick="setRating(3)">★</span>
                            <span class="star" onclick="setRating(4)">★</span>
                            <span class="star" onclick="setRating(5)">★</span>
                        </div>
                    </div>
                    <div class="comment-section">
                        <label>평가 코멘트</label>
                        <textarea class="comment-input" placeholder="평가 내용을 입력하세요..."></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn" onclick="submitEvaluation()">제출</button>
            </div>
        </div>
    </div>

    <!-- 하단 -->
    <footer>
        <div class="footer-nav">
            <button class="footer-btn">스케줄관리</button>
            <span class="footer-divider">|</span>
            <button class="footer-btn">분리사열람</button>
            <span class="footer-divider">|</span>
            <button class="footer-btn active">즐겨찾기</button>
        </div>
    </footer>

    <script>
        let currentRating = 0;

        function openEvaluationModal(name, date) {
            document.getElementById('targetName').textContent = name;
            document.getElementById('targetDate').textContent = date;
            document.getElementById('evaluationModal').style.display = 'flex';
            currentRating = 0;
            updateStars(0);
        }

        function closeEvaluationModal() {
            document.getElementById('evaluationModal').style.display = 'none';
        }

        function setRating(rating) {
            currentRating = rating;
            updateStars(rating);
        }

        function updateStars(rating) {
            const stars = document.querySelectorAll('.star');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        function submitEvaluation() {
            alert('평가가 제출되었습니다.');
            closeEvaluationModal();
            // 실제로는 평가완료 상태로 변경
        }

        window.onclick = function(event) {
            const modal = document.getElementById('evaluationModal');
            if (event.target == modal) {
                closeEvaluationModal();
            }
        }
    </script>
</body>
</html>

